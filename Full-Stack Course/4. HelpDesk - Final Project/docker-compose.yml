services:
  postgres:
    image: "bitnami/postgresql:latest"
    container_name: postgresql

    restart: always

    environment:
      POSTGRESQL_PASSWORD: postgresql
      POSTGRESQL_USERNAME: postgresql
      POSTGRESQL_DATABASE: helpdesk

    ports:
      - "5432:5432"

    volumes:
      - postgresql_data:/bitnami/postgresql

  api:
    build: ./api
    container_name: api

    restart: always

    ports:
      - "3333:3333"

    depends_on:
      - postgres

    volumes:
      - ./api/uploads:/usr/src/app/uploads

volumes:
  postgresql_data:
